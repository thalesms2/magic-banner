ü™Ñ Magic Banner Plugin

üöÄ Desafio T√©cnico - Futuriza

Este √© um projeto Full Stack Next.js desenvolvido como desafio t√©cnico, com o objetivo de criar um sistema din√¢mico de gest√£o de banners. A aplica√ß√£o permite a cria√ß√£o, listagem e exclus√£o de banners personalizados, que s√£o exibidos em sites de terceiros atrav√©s de um script embedd√°vel, com base na URL da p√°gina e regras opcionais de hor√°rio.

‚ú® Funcionalidades

üñ•Ô∏è Painel Administrativo

* Cria√ß√£o de Banners: Formul√°rio para cadastrar novos banners com os seguintes dados:
    * URL Alvo: URL completa da p√°gina onde o banner deve ser exibido (ex: https://lojaexemplo.com/produto/123).
    * Imagem do Banner: Upload via Supabase Storage ou link direto.
    * Hor√°rio de Exibi√ß√£o: Intervalo de tempo opcional (ex: 08:00 √†s 12:00) em que o banner deve estar ativo.
    * Gest√£o: Listagem e exclus√£o de banners existentes.

üåê API e Script Embedd√°vel

* API de Banners (/api/banners?url=...): Endpoint que recebe a URL da p√°gina do cliente e retorna o banner correspondente ativo naquele momento.
* Script (magic-banner.js): Um arquivo JavaScript est√°tico que √© importado pelo site do cliente, detecta a URL, chama a API e injeta o HTML do banner no topo da p√°gina de forma din√¢mica.

üß± Stack T√©cnica

Next.js Alto desempenho, server components, api routes.
Supabase Banco de dados PostgreSQL S3 storage e auth login.
shadcn.ui design system f√°cil e simples de ser utilizado e modificado.
Domain Driven Design isola funcionalidades e mantem o c√≥digo mais coeso para manuten√ß√£o e extens√£o.

üõ†Ô∏è Instru√ß√µes de Instala√ß√£o e Configura√ß√£o

Pr√©-requisitos
Node.js (v18+)
Conta no Supabase
Conta no Vercel

1. Configura√ß√£o do Banco de Dados

Crie a tabela banners no Supabase:
```sql
CREATE TABLE banners (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  target_url TEXT NOT NULL,
  image_url TEXT NOT NULL,
  start_time TIME WITHOUT TIME ZONE,
  end_time TIME WITHOUT TIME ZONE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

Crie o Bucket banner_images no Supabase Storage e configure-o como P√∫blico.

2. Vari√°veis de Ambiente

Crie o arquivo .env.local na raiz do projeto:
```
NEXT_PUBLIC_SUPABASE_URL="[SUA_URL_DO_SUPABASE]"
NEXT_PUBLIC_SUPABASE_ANON_KEY="[SUA_CHAVE_ANON_P√öBLICA]"
```

3. Execu√ß√£o

Instale as depend√™ncias:
```bash
npm install
# ou
yarn install
```

Inicie o servidor de desenvolvimento:
```bash
npm run dev
# ou
yarn dev
```

O Painel Admin estar√° acess√≠vel em http://localhost:3000/admin.

üß™ Como Testar o Script Embut√≠vel

Ap√≥s o deploy do projeto na Vercel (https://<seu-app>.vercel.app):

Acesse o Painel Admin (/admin) e cadastre um banner para uma URL de teste (ex: https://testeloja.com/pagina-principal).
Crie um arquivo HTML local (teste.html) e simule a URL alvo. Voc√™ pode usar uma extens√£o de navegador para alterar a URL ou simplesmente carregar o arquivo local.
Adicione a tag <script> ao seu teste.html, substituindo a URL:

HTML
```html
<html>
<head>
    <title>Loja Exemplo</title>
</head>
<body>
    <h1>P√°gina Principal da Loja</h1>
    
    <script src="https://<seu-app>.vercel.app/magic-banner.js"></script>
</body>
</html>
```

Ao carregar o teste.html, o script ser√° executado, far√° a requisi√ß√£o para a API (/api/banners?url=file:///... ou a URL que voc√™ definir), e injetar√° o banner no topo se as condi√ß√µes (URL e hor√°rio) forem atendidas.
